% basics
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
%\usepackage[babel]{spanish}
\usepackage{biolinum} % included with the {Libertine}
\renewcommand{\familydefault}{\sfdefault}

%%% Define some colors to use:
\usepackage[usenames,dvipsnames]{xcolor}
\definecolor{rosewater}{HTML}{f5e0dc}
\definecolor{flamingo}{HTML}{f2cdcd}
\definecolor{pink}{HTML}{f5c2e7}
\definecolor{mauve}{HTML}{cba6f7}
\definecolor{red2}{HTML}{f38ba8}
\definecolor{maroon}{HTML}{eba0ac}
\definecolor{peach}{HTML}{fab387}
\definecolor{yellow}{HTML}{f9e2af}
\definecolor{green}{HTML}{a6e3a1}
\definecolor{teal}{HTML}{94e2d5}
\definecolor{sky}{HTML}{89dceb}
\definecolor{sapphire}{HTML}{74c7ec}
\definecolor{blue}{HTML}{89b4fa}
\definecolor{lavender}{HTML}{b4befe}
\definecolor{text}{HTML}{cdd6f4}
\definecolor{subtext1}{HTML}{bac2de}
\definecolor{subtext0}{HTML}{a6adc8}
\definecolor{overlay2}{HTML}{9399b2}
\definecolor{overlay1}{HTML}{7f849c}
\definecolor{overlay0}{HTML}{6c7086}
\definecolor{surface2}{HTML}{585b70}
\definecolor{surface1}{HTML}{45475a}
\definecolor{surface0}{HTML}{313244}
\definecolor{base}{HTML}{1e1e2e}
\definecolor{mantle}{HTML}{181825}
\definecolor{crust}{HTML}{11111b}

\definecolor{Base}{HTML}{1e1e2e}
\definecolor{Subtext1}{HTML}{bac2de}
\definecolor{Green}{HTML}{a6e3a1}
\definecolor{Yellow}{HTML}{f9e2af}
\definecolor{Text}{HTML}{cdd6f4}

%%% Url package
\usepackage{url}
% \usepackage{hyperref}
% \hypersetup{
%     colorlinks,
%     linkcolor={black},
%     citecolor={black},
%     urlcolor={blue!80!black}
% }
\usepackage{graphicx}
\usepackage{float}
\usepackage{booktabs}
\usepackage{enumitem}
% \usepackage{parskip}
\usepackage{emptypage}
\usepackage{subcaption}
\usepackage{multicol}

\usepackage{amsmath, amsfonts, mathtools, amsthm, amssymb}
\usepackage{mathrsfs}
\usepackage{cancel}
\usepackage{bm}
\newcommand\N{\ensuremath{\mathbb{N}}}
\newcommand\R{\ensuremath{\mathbb{R}}}
\newcommand\Z{\ensuremath{\mathbb{Z}}}
\renewcommand\O{\ensuremath{\emptyset}}
\newcommand\Q{\ensuremath{\mathbb{Q}}}
\newcommand\C{\ensuremath{\mathbb{C}}}
\DeclareMathOperator{\sgn}{sgn}
\usepackage{systeme}
\let\svlim\lim\def\lim{\svlim\limits}
\let\implies\Rightarrow
\let\impliedby\Leftarrow
\let\iff\Leftrightarrow
\let\epsilon\varepsilon
\usepackage{stmaryrd} % for \lightning
\newcommand\contra{\scalebox{1.1}{$\lightning$}}
% \let\phi\varphi

% correct
\definecolor{correct}{HTML}{009900}
\newcommand\correct[2]{\ensuremath{\:}{\color{red}{#1}}\ensuremath{\to }{\color{correct}{#2}}\ensuremath{\:}}
\newcommand\green[1]{{\color{correct}{#1}}}

% horizontal rule
\newcommand\hr{
    \noindent\rule[0.5ex]{\linewidth}{0.5pt}
}

% hide parts
\newcommand\hide[1]{}

% si unitx
\usepackage{siunitx}
\sisetup{locale = FR}
% \renewcommand\vec[1]{\mathbf{#1}}
\newcommand\mat[1]{\mathbf{#1}}

% tikz
\usepackage{tikz}
\usepackage{tikz-cd}
\usetikzlibrary{intersections, angles, quotes, calc, positioning}
\usetikzlibrary{arrows.meta}
\usepackage{pgfplots}
\pgfplotsset{compat=1.13}

\tikzset{
    force/.style={thick, {Circle[length=2pt]}-stealth, shorten <=-1pt}
}

% theorems
\makeatother
\usepackage{thmtools}
\usepackage[framemethod=TikZ]{mdframed}
\mdfsetup{skipabove=1em,skipbelow=0em}

\theoremstyle{definition}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{green!70!black}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=Green, backgroundcolor=Base!5,
    }
]{thmgreenbox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{blue!70!black}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=NavyBlue, backgroundcolor=Base!5,
    }
]{thmbluebox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{Base!90!black}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=NavyBlue
    }
]{thmblueline}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{red2!90!black}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=Red, backgroundcolor=Base!5,
    }
]{thmredbox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{red2!90!black}, bodyfont=\normalfont,
    numbered=no,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=Blue, backgroundcolor=Base!5,
    },
    qed=\qedsymbol
]{thmproofbox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{Base!90!black}, bodyfont=\normalfont,
    numbered=no,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=Blue, backgroundcolor=Base!5,
    },
]{thmexplanationbox}

% ENGLISH 
%\declaretheorem[style=thmgreenbox, name=Definition]{deff}
%\declaretheorem[style=thmbluebox, numbered=no, name=Example]{eg}
%\declaretheorem[style=thmredbox, name=Proposition]{prop}
%\declaretheorem[style=thmredbox, name=Theorem]{theo}
%\declaretheorem[style=thmredbox, name=Lemma]{lemma}
%\declaretheorem[style=thmredbox, numbered=no, name=Corollary]{cor}

%\declaretheorem[style=thmproofbox, name=Proof]{replacementproof}
%\renewenvironment{proof}[1][\proofname]{\vspace{-10pt}\begin{replacementproof}}{\end{replacementproof}}


%\declaretheorem[style=thmexplanationbox, name=Proof]{tmpexplanation}
%\newenvironment{explanation}[1][]{\vspace{-10pt}\begin{tmpexplanation}}{\end{tmpexplanation}}

%\declaretheorem[style=thmblueline, numbered=no, name=Remark]{remark}
%\declaretheorem[style=thmblueline, numbered=no, name=Note]{note}

%\newtheorem*{uovt}{UOVT}
%\newtheorem*{notation}{Notation}
%\newtheorem*{previouslyseen}{As previously seen}
%\newtheorem*{problem}{Problem}
%\newtheorem*{observe}{Observe}
%\newtheorem*{property}{Property}
%\newtheorem*{intuition}{Intuition}
%% ENGLISH END

% SPANISH 
\declaretheorem[style=thmgreenbox, name=Definición]{deff}
\declaretheorem[style=thmbluebox, numbered=no, name=Ejemplo]{eg}
\declaretheorem[style=thmredbox, name=Proposición]{prop}
\declaretheorem[style=thmredbox, name=Teorema]{theo}
\declaretheorem[style=thmredbox, name=Lema]{lemma}
\declaretheorem[style=thmredbox, numbered=no, name=Corolario]{cor}

\declaretheorem[style=thmproofbox, name=Demostración]{replacementproof}
\renewenvironment{proof}[1][\proofname]{\vspace{-10pt}\begin{replacementproof}}{\end{replacementproof}}

\declaretheorem[style=thmblueline, numbered=no, name=Comentario]{remark}
\declaretheorem[style=thmblueline, numbered=no, name=Nota]{note}

\newtheorem*{previouslyseen}{Como vimos anteriormente}
\newtheorem*{problem}{Problema}
\newtheorem*{observe}{Observación}
\newtheorem*{property}{Propiedad}
\newtheorem*{intuition}{Intuición}

\declaretheorem[style=thmblueline, numbered=no, name=Notacion]{notation}
%% SPANISH END

\usepackage{etoolbox}
\AtEndEnvironment{vb}{\null\hfill$\diamond$}%
\AtEndEnvironment{intermezzo}{\null\hfill$\diamond$}%
% \AtEndEnvironment{opmerking}{\null\hfill$\diamond$}%

% http://tex.stackexchange.com/questions/22119/how-can-i-change-the-spacing-before-theorems-with-amsthm
\makeatletter
% \def\thm@space@setup{%
%   \thm@preskip=\parskip \thm@postskip=0pt
% }

\newcommand{\ejercicio}[1]{%
    \def\@oejercicio{#1}%
    \subsection*{Ejercicio #1}
}

\newcommand{\subejercicio}[1]{%
    \subsubsection*{Ejercicio \@oefening.#1}
}

\newcommand{\exercise}[1]{%
    \def\@exercise{#1}%
    \subsection*{Exercise #1}
}

\newcommand{\subexercise}[1]{%
    \subsubsection*{Exercise \@exercise.#1}
}


% La primera definición de comando, \testdateparts, se utiliza para analizar la 
% fecha pasada como argumento a la función \dateparts.

% La segunda definición de comando, \dateparts, separa la fecha en diferentes partes
% (día, mes, año) y la imprime en el margen del documento utilizando el comando 
% \marginpar. En este caso, se está utilizando una fuente sans-serif y un tamaño de
% fuente pequeño.

% La nueva definición para el comando \lesson toma tres argumentos. Si el tercer 
% argumento es vacío, se define el valor del comando \@lesson como "Lecture #1". Si
% el tercer argumento no es vacío, se define el valor del comando \@lesson como 
% "Lecture #1: #3". Luego se crea una nueva subsección en el documento con el valor
% del comando \@lesson y se llama al comando \testdateparts con el segundo argumento
% (que es la fecha) para imprimir la fecha en el margen del documento.\usepackage{xifthen}

\def\testdateparts#1{\dateparts#1\relax}
\def\dateparts#1 #2 #3 #4 #5\relax{
    \marginpar{\small\textsf{\mbox{#1 #2 #3 #5}}}
}

\def\@lesson{}%
\newcommand{\lesson}[3]{
    \ifthenelse{\isempty{#3}}{%
        \def\@lesson{Lecture #1}%
    }{%
        \def\@lesson{Lecture #1: #3}%
    }%
    \subsection*{\@lesson}
    \testdateparts{#2}
}

% \renewcommand\date[1]{\marginpar{#1}}


% fancy headers
\usepackage{fancyhdr}
\pagestyle{fancy}

% \fancyhead[LE,RO]{Gilles Castel}
\fancyhead[RO,LE]{\@lesson}
\fancyhead[RE,LO]{}
\fancyfoot[LE,RO]{\thepage}
\fancyfoot[C]{\leftmark}

\makeatother




% notes
\usepackage{todonotes}
\usepackage{tcolorbox}

\tcbuselibrary{breakable}
\newenvironment{verbetering}{\begin{tcolorbox}[
    arc=0mm,
    colback=white,
    colframe=green!60!black,
    title=Opmerking,
    fonttitle=\sffamily,
    breakable
]}{\end{tcolorbox}}

\newenvironment{noot}[1]{\begin{tcolorbox}[
    arc=0mm,
    colback=white,
    colframe=white!60!black,
    title=#1,
    fonttitle=\sffamily,
    breakable
]}{\end{tcolorbox}}




% figure support
\usepackage{import}
\usepackage{xifthen}
\pdfminorversion=7
\usepackage{pdfpages}
\usepackage{transparent}
\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \import{./figures/}{#1.pdf_tex}
}

% %http://tex.stackexchange.com/questions/76273/multiple-pdfs-with-page-group-included-in-a-single-page-warning
\pdfsuppresswarningpagegroup=1

%%% Add code sintax coloring using listing
\usepackage{listings}

\lstdefinestyle{mystyle}{
	backgroundcolor=\color{Base},   % Fondo del bloque
	commentstyle=\color{flamingo},  % Color de los comentarios
	keywordstyle=\color{Green},     % Color de las palabras clave
	numberstyle=\tiny\color{Subtext1}, % Tamaño y color de los números de línea
	stringstyle=\color{Yellow},     % Color de las cadenas de texto
	basicstyle=\ttfamily\color{Text},% Estilo básico del texto
	breakatwhitespace=false,        % No se interrumpe el texto en espacios en blanco
	breaklines=true,                % Se interrumpe el texto al final de línea
	captionpos=b,                   % Posición de la leyenda
	keepspaces=true,                % Se mantienen los espacios en blanco
	%numbers=left,                   % Números de línea a la izquierda
	numbersep=5pt,                  % Espacio entre número de línea y el código
	showspaces=false,               % No se muestran espacios en blanco
	showstringspaces=false,         % No se muestran espacios en blanco en cadenas de texto
	showtabs=false,                 % No se muestran tabulaciones
	tabsize=4,                      % Tamaño de las tabulaciones
}


\author{Edgar M}
% This is Gilles castell preamble, just change a few things
